➜  adventone-ansible-challenge git:(master) ✗ ansible-playbook site.yml                            
[WARNING]: No inventory was parsed, only implicit localhost is available
[WARNING]: provided hosts list is empty, only localhost is available. Note that the implicit localhost does not match 'all'

PLAY [localhost] ****************************************************************************************************************************************

TASK [awsvpc : new vpc] *********************************************************************************************************************************
ok: [localhost]

TASK [awsvpc : public subnet] ***************************************************************************************************************************
ok: [localhost] => (item=10.56.10.0/24)

TASK [awsvpc : internet gateway] ************************************************************************************************************************
ok: [localhost]

TASK [awsvpc : route table] *****************************************************************************************************************************
ok: [localhost]

TASK [awsvpc : debug] ***********************************************************************************************************************************
skipping: [localhost] => (item={'changed': False, 'subnet': {'availability_zone': 'ap-southeast-2a', 'availability_zone_id': 'apse2-az3', 'available_ip_address_count': 249, 'cidr_block': '10.56.10.0/24', 'default_for_az': False, 'map_public_ip_on_launch': True, 'map_customer_owned_ip_on_launch': False, 'state': 'available', 'vpc_id': 'vpc-0716af82e548bd1a5', 'owner_id': '471112672291', 'assign_ipv6_address_on_creation': False, 'ipv6_cidr_block_association_set': [], 'tags': {'owner': 'Xizhu Hou', 'Name': 'advent1'}, 'subnet_arn': 'arn:aws:ec2:ap-southeast-2:471112672291:subnet/subnet-098db0c3c16bce43a', 'enable_dns64': False, 'ipv6_native': False, 'private_dns_name_options_on_launch': {'hostname_type': 'ip-name', 'enable_resource_name_dns_a_record': False, 'enable_resource_name_dns_aaaa_record': False}, 'id': 'subnet-098db0c3c16bce43a', 'ipv6_cidr_block': '', 'ipv6_association_id': ''}, 'invocation': {'module_args': {'state': 'present', 'vpc_id': 'vpc-0716af82e548bd1a5', 'cidr': '10.56.10.0/24', 'region': 'ap-southeast-2', 'map_public': True, 'tags': {'Name': 'advent1', 'owner': 'Xizhu Hou'}, 'access_key': 'AKIAW3MEA4QRZQ66FNXH', 'secret_key': 'VALUE_SPECIFIED_IN_NO_LOG_PARAMETER', 'validate_certs': True, 'debug_botocore_endpoint_logs': False, 'ipv6_cidr': '', 'outpost_arn': '', 'assign_instances_ipv6': False, 'wait': True, 'wait_timeout': 300, 'purge_tags': True, 'session_token': None, 'profile': None, 'endpoint_url': None, 'aws_ca_bundle': None, 'aws_config': None, 'az': None}}, 'failed': False, 'subnet_cidr_block': '10.56.10.0/24', 'ansible_loop_var': 'subnet_cidr_block'}) 
skipping: [localhost]

TASK [new keypair] **************************************************************************************************************************************
ok: [localhost]

TASK [new security group] *******************************************************************************************************************************
ok: [localhost]

TASK [get ami id] ***************************************************************************************************************************************
ok: [localhost]

TASK [sort the list of AMIs by creation date] ***********************************************************************************************************
ok: [localhost]

TASK [Use role in loop] *********************************************************************************************************************************

TASK [newvm : launch new instance - mini_car_game] ******************************************************************************************************
ok: [localhost]

TASK [newvm : ec2 instance ip - mini_car_game] **********************************************************************************************************
ok: [localhost]

TASK [newvm : debug] ************************************************************************************************************************************
skipping: [localhost]

TASK [newvm : udpate cloudflare] ************************************************************************************************************************
ok: [localhost]

TASK [newvm : in memory inventory] **********************************************************************************************************************
changed: [localhost]

TASK [newvm : wait for SSH to come up] ******************************************************************************************************************
ok: [localhost]

TASK [newvm : launch new instance - snakegame] **********************************************************************************************************
ok: [localhost]

TASK [newvm : ec2 instance ip - snakegame] **************************************************************************************************************
ok: [localhost]

TASK [newvm : debug] ************************************************************************************************************************************
skipping: [localhost]

TASK [newvm : udpate cloudflare] ************************************************************************************************************************
ok: [localhost]

TASK [newvm : in memory inventory] **********************************************************************************************************************
changed: [localhost]

TASK [newvm : wait for SSH to come up] ******************************************************************************************************************
ok: [localhost]

PLAY [config] *******************************************************************************************************************************************

TASK [install python] ***********************************************************************************************************************************
changed: [mini_car_game.yaml.work]
changed: [snakegame.yaml.work]

TASK [httpd : package install] **************************************************************************************************************************
ok: [snakegame.yaml.work]
ok: [mini_car_game.yaml.work]

TASK [httpd : stop httpd service] ***********************************************************************************************************************
changed: [snakegame.yaml.work]
changed: [mini_car_game.yaml.work]

TASK [httpd : Replace "Listen 80" with "Listen 0.0.0.0:80"] *********************************************************************************************
ok: [snakegame.yaml.work]
ok: [mini_car_game.yaml.work]

TASK [httpd : templating httpd conf file] ***************************************************************************************************************
ok: [snakegame.yaml.work]
ok: [mini_car_game.yaml.work]

TASK [httpd : crt file] *********************************************************************************************************************************
ok: [mini_car_game.yaml.work]
ok: [snakegame.yaml.work]

TASK [httpd : key file] *********************************************************************************************************************************
ok: [snakegame.yaml.work]
ok: [mini_car_game.yaml.work]

TASK [httpd : copy HTML file] ***************************************************************************************************************************
ok: [snakegame.yaml.work]
ok: [mini_car_game.yaml.work]

TASK [httpd : start service] ****************************************************************************************************************************
changed: [snakegame.yaml.work]
changed: [mini_car_game.yaml.work]

TASK [Set a hostname] ***********************************************************************************************************************************
ok: [snakegame.yaml.work]
ok: [mini_car_game.yaml.work]

PLAY RECAP **********************************************************************************************************************************************
localhost                  : ok=18   changed=2    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   
mini_car_game.yaml.work    : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
snakegame.yaml.work        : ok=10   changed=3    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0
